{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { populateInstance, getNextNode, getFirstNode, getLastNode } from '../../useTreeView/useTreeView.utils';\nimport { findOrderInTremauxTree } from './useTreeViewSelection.utils';\nexport const useTreeViewSelection = ({\n  instance,\n  params,\n  models\n}) => {\n  const lastSelectedNode = React.useRef(null);\n  const lastSelectionWasRange = React.useRef(false);\n  const currentRangeSelection = React.useRef([]);\n  const setSelectedItems = (event, newSelectedItems) => {\n    if (params.onItemSelectionToggle) {\n      if (params.multiSelect) {\n        const addedItems = newSelectedItems.filter(itemId => !instance.isNodeSelected(itemId));\n        const removedItems = models.selectedItems.value.filter(itemId => !newSelectedItems.includes(itemId));\n        addedItems.forEach(itemId => {\n          params.onItemSelectionToggle(event, itemId, true);\n        });\n        removedItems.forEach(itemId => {\n          params.onItemSelectionToggle(event, itemId, false);\n        });\n      } else if (newSelectedItems !== models.selectedItems.value) {\n        if (models.selectedItems.value != null) {\n          params.onItemSelectionToggle(event, models.selectedItems.value, false);\n        }\n        if (newSelectedItems != null) {\n          params.onItemSelectionToggle(event, newSelectedItems, true);\n        }\n      }\n    }\n    if (params.onSelectedItemsChange) {\n      params.onSelectedItemsChange(event, newSelectedItems);\n    }\n    models.selectedItems.setControlledValue(newSelectedItems);\n  };\n  const isNodeSelected = itemId => Array.isArray(models.selectedItems.value) ? models.selectedItems.value.indexOf(itemId) !== -1 : models.selectedItems.value === itemId;\n  const selectNode = (event, itemId, multiple = false) => {\n    if (params.disableSelection) {\n      return;\n    }\n    if (multiple) {\n      if (Array.isArray(models.selectedItems.value)) {\n        let newSelected;\n        if (models.selectedItems.value.indexOf(itemId) !== -1) {\n          newSelected = models.selectedItems.value.filter(id => id !== itemId);\n        } else {\n          newSelected = [itemId].concat(models.selectedItems.value);\n        }\n        setSelectedItems(event, newSelected);\n      }\n    } else {\n      const newSelected = params.multiSelect ? [itemId] : itemId;\n      setSelectedItems(event, newSelected);\n    }\n    lastSelectedNode.current = itemId;\n    lastSelectionWasRange.current = false;\n    currentRangeSelection.current = [];\n  };\n  const getNodesInRange = (nodeAId, nodeBId) => {\n    const [first, last] = findOrderInTremauxTree(instance, nodeAId, nodeBId);\n    const nodes = [first];\n    let current = first;\n    while (current !== last) {\n      current = getNextNode(instance, current);\n      nodes.push(current);\n    }\n    return nodes;\n  };\n  const handleRangeArrowSelect = (event, nodes) => {\n    let base = models.selectedItems.value.slice();\n    const {\n      start,\n      next,\n      current\n    } = nodes;\n    if (!next || !current) {\n      return;\n    }\n    if (currentRangeSelection.current.indexOf(current) === -1) {\n      currentRangeSelection.current = [];\n    }\n    if (lastSelectionWasRange.current) {\n      if (currentRangeSelection.current.indexOf(next) !== -1) {\n        base = base.filter(id => id === start || id !== current);\n        currentRangeSelection.current = currentRangeSelection.current.filter(id => id === start || id !== current);\n      } else {\n        base.push(next);\n        currentRangeSelection.current.push(next);\n      }\n    } else {\n      base.push(next);\n      currentRangeSelection.current.push(current, next);\n    }\n    setSelectedItems(event, base);\n  };\n  const handleRangeSelect = (event, nodes) => {\n    let base = models.selectedItems.value.slice();\n    const {\n      start,\n      end\n    } = nodes;\n    // If last selection was a range selection ignore nodes that were selected.\n    if (lastSelectionWasRange.current) {\n      base = base.filter(id => currentRangeSelection.current.indexOf(id) === -1);\n    }\n    let range = getNodesInRange(start, end);\n    range = range.filter(node => !instance.isNodeDisabled(node));\n    currentRangeSelection.current = range;\n    let newSelected = base.concat(range);\n    newSelected = newSelected.filter((id, i) => newSelected.indexOf(id) === i);\n    setSelectedItems(event, newSelected);\n  };\n  const selectRange = (event, nodes, stacked = false) => {\n    if (params.disableSelection) {\n      return;\n    }\n    const {\n      start = lastSelectedNode.current,\n      end,\n      current\n    } = nodes;\n    if (stacked) {\n      handleRangeArrowSelect(event, {\n        start,\n        next: end,\n        current\n      });\n    } else if (start != null && end != null) {\n      handleRangeSelect(event, {\n        start,\n        end\n      });\n    }\n    lastSelectionWasRange.current = true;\n  };\n  const rangeSelectToFirst = (event, itemId) => {\n    if (!lastSelectedNode.current) {\n      lastSelectedNode.current = itemId;\n    }\n    const start = lastSelectionWasRange.current ? lastSelectedNode.current : itemId;\n    instance.selectRange(event, {\n      start,\n      end: getFirstNode(instance)\n    });\n  };\n  const rangeSelectToLast = (event, itemId) => {\n    if (!lastSelectedNode.current) {\n      lastSelectedNode.current = itemId;\n    }\n    const start = lastSelectionWasRange.current ? lastSelectedNode.current : itemId;\n    instance.selectRange(event, {\n      start,\n      end: getLastNode(instance)\n    });\n  };\n  populateInstance(instance, {\n    isNodeSelected,\n    selectNode,\n    selectRange,\n    rangeSelectToLast,\n    rangeSelectToFirst\n  });\n  return {\n    getRootProps: () => ({\n      'aria-multiselectable': params.multiSelect\n    }),\n    contextValue: {\n      selection: {\n        multiSelect: params.multiSelect\n      }\n    }\n  };\n};\nuseTreeViewSelection.models = {\n  selectedItems: {\n    getDefaultValue: params => params.defaultSelectedItems\n  }\n};\nconst DEFAULT_SELECTED_NODES = [];\nuseTreeViewSelection.getDefaultizedParams = params => _extends({}, params, {\n  disableSelection: params.disableSelection ?? false,\n  multiSelect: params.multiSelect ?? false,\n  defaultSelectedItems: params.defaultSelectedItems ?? (params.multiSelect ? DEFAULT_SELECTED_NODES : null)\n});\nuseTreeViewSelection.params = {\n  disableSelection: true,\n  multiSelect: true,\n  defaultSelectedItems: true,\n  selectedItems: true,\n  onSelectedItemsChange: true,\n  onItemSelectionToggle: true\n};","map":{"version":3,"names":["_extends","React","populateInstance","getNextNode","getFirstNode","getLastNode","findOrderInTremauxTree","useTreeViewSelection","instance","params","models","lastSelectedNode","useRef","lastSelectionWasRange","currentRangeSelection","setSelectedItems","event","newSelectedItems","onItemSelectionToggle","multiSelect","addedItems","filter","itemId","isNodeSelected","removedItems","selectedItems","value","includes","forEach","onSelectedItemsChange","setControlledValue","Array","isArray","indexOf","selectNode","multiple","disableSelection","newSelected","id","concat","current","getNodesInRange","nodeAId","nodeBId","first","last","nodes","push","handleRangeArrowSelect","base","slice","start","next","handleRangeSelect","end","range","node","isNodeDisabled","i","selectRange","stacked","rangeSelectToFirst","rangeSelectToLast","getRootProps","contextValue","selection","getDefaultValue","defaultSelectedItems","DEFAULT_SELECTED_NODES","getDefaultizedParams"],"sources":["/Users/xander/node_modules/@mui/x-tree-view/internals/plugins/useTreeViewSelection/useTreeViewSelection.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { populateInstance, getNextNode, getFirstNode, getLastNode } from '../../useTreeView/useTreeView.utils';\nimport { findOrderInTremauxTree } from './useTreeViewSelection.utils';\nexport const useTreeViewSelection = ({\n  instance,\n  params,\n  models\n}) => {\n  const lastSelectedNode = React.useRef(null);\n  const lastSelectionWasRange = React.useRef(false);\n  const currentRangeSelection = React.useRef([]);\n  const setSelectedItems = (event, newSelectedItems) => {\n    if (params.onItemSelectionToggle) {\n      if (params.multiSelect) {\n        const addedItems = newSelectedItems.filter(itemId => !instance.isNodeSelected(itemId));\n        const removedItems = models.selectedItems.value.filter(itemId => !newSelectedItems.includes(itemId));\n        addedItems.forEach(itemId => {\n          params.onItemSelectionToggle(event, itemId, true);\n        });\n        removedItems.forEach(itemId => {\n          params.onItemSelectionToggle(event, itemId, false);\n        });\n      } else if (newSelectedItems !== models.selectedItems.value) {\n        if (models.selectedItems.value != null) {\n          params.onItemSelectionToggle(event, models.selectedItems.value, false);\n        }\n        if (newSelectedItems != null) {\n          params.onItemSelectionToggle(event, newSelectedItems, true);\n        }\n      }\n    }\n    if (params.onSelectedItemsChange) {\n      params.onSelectedItemsChange(event, newSelectedItems);\n    }\n    models.selectedItems.setControlledValue(newSelectedItems);\n  };\n  const isNodeSelected = itemId => Array.isArray(models.selectedItems.value) ? models.selectedItems.value.indexOf(itemId) !== -1 : models.selectedItems.value === itemId;\n  const selectNode = (event, itemId, multiple = false) => {\n    if (params.disableSelection) {\n      return;\n    }\n    if (multiple) {\n      if (Array.isArray(models.selectedItems.value)) {\n        let newSelected;\n        if (models.selectedItems.value.indexOf(itemId) !== -1) {\n          newSelected = models.selectedItems.value.filter(id => id !== itemId);\n        } else {\n          newSelected = [itemId].concat(models.selectedItems.value);\n        }\n        setSelectedItems(event, newSelected);\n      }\n    } else {\n      const newSelected = params.multiSelect ? [itemId] : itemId;\n      setSelectedItems(event, newSelected);\n    }\n    lastSelectedNode.current = itemId;\n    lastSelectionWasRange.current = false;\n    currentRangeSelection.current = [];\n  };\n  const getNodesInRange = (nodeAId, nodeBId) => {\n    const [first, last] = findOrderInTremauxTree(instance, nodeAId, nodeBId);\n    const nodes = [first];\n    let current = first;\n    while (current !== last) {\n      current = getNextNode(instance, current);\n      nodes.push(current);\n    }\n    return nodes;\n  };\n  const handleRangeArrowSelect = (event, nodes) => {\n    let base = models.selectedItems.value.slice();\n    const {\n      start,\n      next,\n      current\n    } = nodes;\n    if (!next || !current) {\n      return;\n    }\n    if (currentRangeSelection.current.indexOf(current) === -1) {\n      currentRangeSelection.current = [];\n    }\n    if (lastSelectionWasRange.current) {\n      if (currentRangeSelection.current.indexOf(next) !== -1) {\n        base = base.filter(id => id === start || id !== current);\n        currentRangeSelection.current = currentRangeSelection.current.filter(id => id === start || id !== current);\n      } else {\n        base.push(next);\n        currentRangeSelection.current.push(next);\n      }\n    } else {\n      base.push(next);\n      currentRangeSelection.current.push(current, next);\n    }\n    setSelectedItems(event, base);\n  };\n  const handleRangeSelect = (event, nodes) => {\n    let base = models.selectedItems.value.slice();\n    const {\n      start,\n      end\n    } = nodes;\n    // If last selection was a range selection ignore nodes that were selected.\n    if (lastSelectionWasRange.current) {\n      base = base.filter(id => currentRangeSelection.current.indexOf(id) === -1);\n    }\n    let range = getNodesInRange(start, end);\n    range = range.filter(node => !instance.isNodeDisabled(node));\n    currentRangeSelection.current = range;\n    let newSelected = base.concat(range);\n    newSelected = newSelected.filter((id, i) => newSelected.indexOf(id) === i);\n    setSelectedItems(event, newSelected);\n  };\n  const selectRange = (event, nodes, stacked = false) => {\n    if (params.disableSelection) {\n      return;\n    }\n    const {\n      start = lastSelectedNode.current,\n      end,\n      current\n    } = nodes;\n    if (stacked) {\n      handleRangeArrowSelect(event, {\n        start,\n        next: end,\n        current\n      });\n    } else if (start != null && end != null) {\n      handleRangeSelect(event, {\n        start,\n        end\n      });\n    }\n    lastSelectionWasRange.current = true;\n  };\n  const rangeSelectToFirst = (event, itemId) => {\n    if (!lastSelectedNode.current) {\n      lastSelectedNode.current = itemId;\n    }\n    const start = lastSelectionWasRange.current ? lastSelectedNode.current : itemId;\n    instance.selectRange(event, {\n      start,\n      end: getFirstNode(instance)\n    });\n  };\n  const rangeSelectToLast = (event, itemId) => {\n    if (!lastSelectedNode.current) {\n      lastSelectedNode.current = itemId;\n    }\n    const start = lastSelectionWasRange.current ? lastSelectedNode.current : itemId;\n    instance.selectRange(event, {\n      start,\n      end: getLastNode(instance)\n    });\n  };\n  populateInstance(instance, {\n    isNodeSelected,\n    selectNode,\n    selectRange,\n    rangeSelectToLast,\n    rangeSelectToFirst\n  });\n  return {\n    getRootProps: () => ({\n      'aria-multiselectable': params.multiSelect\n    }),\n    contextValue: {\n      selection: {\n        multiSelect: params.multiSelect\n      }\n    }\n  };\n};\nuseTreeViewSelection.models = {\n  selectedItems: {\n    getDefaultValue: params => params.defaultSelectedItems\n  }\n};\nconst DEFAULT_SELECTED_NODES = [];\nuseTreeViewSelection.getDefaultizedParams = params => _extends({}, params, {\n  disableSelection: params.disableSelection ?? false,\n  multiSelect: params.multiSelect ?? false,\n  defaultSelectedItems: params.defaultSelectedItems ?? (params.multiSelect ? DEFAULT_SELECTED_NODES : null)\n});\nuseTreeViewSelection.params = {\n  disableSelection: true,\n  multiSelect: true,\n  defaultSelectedItems: true,\n  selectedItems: true,\n  onSelectedItemsChange: true,\n  onItemSelectionToggle: true\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}