{"ast":null,"code":"import Box from\"@mui/material/Box\";import{SimpleTreeView}from\"@mui/x-tree-view/SimpleTreeView\";import{TreeItem}from\"@mui/x-tree-view/TreeItem\";import{useState,useEffect,useRef,useId}from\"react\";import PHONEME_SCHEMA from\"./phonemeSchema\";import{jsx as _jsx}from\"react/jsx-runtime\";function useOutsideAlerter(ref,setExpandedItems){useEffect(()=>{function handleClickOutside(event){if(ref.current&&!ref.current.contains(event.target)){setExpandedItems([]);}}document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[ref]);}function PhonemeDropDown(_ref){let{addToSearch}=_ref;const[expandedItems,setExpandedItems]=useState([]);const wrapperRef=useRef(null);useOutsideAlerter(wrapperRef,setExpandedItems);const handleExpandedItemsChange=(event,itemIds)=>{setExpandedItems(itemIds);};const generatePhonemeItems=PHS=>{if(typeof PHS===\"object\"){return/*#__PURE__*/_jsx(TreeItem,{itemId:PHS.id,label:PHS.id,children:PHS.c.map(cc=>{return generatePhonemeItems(cc);})},PHS.id);}else{return/*#__PURE__*/_jsx(TreeItem,{itemId:PHS,label:/*#__PURE__*/_jsx(\"div\",{onClick:()=>addToSearch(PHS),children:PHS})},PHS);}};return/*#__PURE__*/_jsx(Box,{ref:wrapperRef,sx:{flexGrow:1,backgroundColor:\"white\",borderRadius:\"5px\",boxShadow:\"5px 5px 10px gray\",overflowY:\"scroll\",overflow:\"auto\",maxHeight:\"70vh\"},children:/*#__PURE__*/_jsx(SimpleTreeView,{expandedItems:expandedItems,onExpandedItemsChange:handleExpandedItemsChange,children:generatePhonemeItems(PHONEME_SCHEMA)})});}export default PhonemeDropDown;","map":{"version":3,"names":["Box","SimpleTreeView","TreeItem","useState","useEffect","useRef","useId","PHONEME_SCHEMA","jsx","_jsx","useOutsideAlerter","ref","setExpandedItems","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","PhonemeDropDown","_ref","addToSearch","expandedItems","wrapperRef","handleExpandedItemsChange","itemIds","generatePhonemeItems","PHS","itemId","id","label","children","c","map","cc","onClick","sx","flexGrow","backgroundColor","borderRadius","boxShadow","overflowY","overflow","maxHeight","onExpandedItemsChange"],"sources":["/Users/xander/Documents/RhymeSearch/src/components/PhonemeDropDown.js"],"sourcesContent":["import Box from \"@mui/material/Box\";\nimport { SimpleTreeView } from \"@mui/x-tree-view/SimpleTreeView\";\nimport { TreeItem } from \"@mui/x-tree-view/TreeItem\";\nimport { useState, useEffect, useRef, useId } from \"react\";\nimport PHONEME_SCHEMA from \"./phonemeSchema\";\n\nfunction useOutsideAlerter(ref, setExpandedItems) {\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setExpandedItems([]);\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [ref]);\n}\n\nfunction PhonemeDropDown({ addToSearch }) {\n  const [expandedItems, setExpandedItems] = useState([]);\n  const wrapperRef = useRef(null);\n  useOutsideAlerter(wrapperRef, setExpandedItems);\n  const handleExpandedItemsChange = (event, itemIds) => {\n    setExpandedItems(itemIds);\n  };\n  const generatePhonemeItems = (PHS) => {\n    if (typeof PHS === \"object\") {\n      return (\n        <TreeItem itemId={PHS.id} label={PHS.id} key={PHS.id}>\n          {PHS.c.map((cc) => {\n            return generatePhonemeItems(cc);\n          })}\n        </TreeItem>\n      );\n    } else {\n      return (\n        <TreeItem\n          itemId={PHS}\n          label={<div onClick={() => addToSearch(PHS)}>{PHS}</div>}\n          key={PHS}\n        />\n      );\n    }\n  };\n  return (\n    <Box\n      ref={wrapperRef}\n      sx={{\n        flexGrow: 1,\n        backgroundColor: \"white\",\n        borderRadius: \"5px\",\n        boxShadow: \"5px 5px 10px gray\",\n        overflowY: \"scroll\",\n        overflow: \"auto\",\n        maxHeight: \"70vh\",\n      }}\n    >\n      <SimpleTreeView\n        expandedItems={expandedItems}\n        onExpandedItemsChange={handleExpandedItemsChange}\n      >\n        {generatePhonemeItems(PHONEME_SCHEMA)}\n      </SimpleTreeView>\n    </Box>\n  );\n}\n\nexport default PhonemeDropDown;\n"],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,mBAAmB,CACnC,OAASC,cAAc,KAAQ,iCAAiC,CAChE,OAASC,QAAQ,KAAQ,2BAA2B,CACpD,OAASC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,KAAQ,OAAO,CAC1D,MAAO,CAAAC,cAAc,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE7C,QAAS,CAAAC,iBAAiBA,CAACC,GAAG,CAAEC,gBAAgB,CAAE,CAChDR,SAAS,CAAC,IAAM,CACd,QAAS,CAAAS,kBAAkBA,CAACC,KAAK,CAAE,CACjC,GAAIH,GAAG,CAACI,OAAO,EAAI,CAACJ,GAAG,CAACI,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,CAAE,CACtDL,gBAAgB,CAAC,EAAE,CAAC,CACtB,CACF,CACAM,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAC1D,MAAO,IAAM,CACXK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEP,kBAAkB,CAAC,CAC/D,CAAC,CACH,CAAC,CAAE,CAACF,GAAG,CAAC,CAAC,CACX,CAEA,QAAS,CAAAU,eAAeA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CACtC,KAAM,CAACE,aAAa,CAAEZ,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAAsB,UAAU,CAAGpB,MAAM,CAAC,IAAI,CAAC,CAC/BK,iBAAiB,CAACe,UAAU,CAAEb,gBAAgB,CAAC,CAC/C,KAAM,CAAAc,yBAAyB,CAAGA,CAACZ,KAAK,CAAEa,OAAO,GAAK,CACpDf,gBAAgB,CAACe,OAAO,CAAC,CAC3B,CAAC,CACD,KAAM,CAAAC,oBAAoB,CAAIC,GAAG,EAAK,CACpC,GAAI,MAAO,CAAAA,GAAG,GAAK,QAAQ,CAAE,CAC3B,mBACEpB,IAAA,CAACP,QAAQ,EAAC4B,MAAM,CAAED,GAAG,CAACE,EAAG,CAACC,KAAK,CAAEH,GAAG,CAACE,EAAG,CAAAE,QAAA,CACrCJ,GAAG,CAACK,CAAC,CAACC,GAAG,CAAEC,EAAE,EAAK,CACjB,MAAO,CAAAR,oBAAoB,CAACQ,EAAE,CAAC,CACjC,CAAC,CAAC,EAH0CP,GAAG,CAACE,EAIxC,CAAC,CAEf,CAAC,IAAM,CACL,mBACEtB,IAAA,CAACP,QAAQ,EACP4B,MAAM,CAAED,GAAI,CACZG,KAAK,cAAEvB,IAAA,QAAK4B,OAAO,CAAEA,CAAA,GAAMd,WAAW,CAACM,GAAG,CAAE,CAAAI,QAAA,CAAEJ,GAAG,CAAM,CAAE,EACpDA,GACN,CAAC,CAEN,CACF,CAAC,CACD,mBACEpB,IAAA,CAACT,GAAG,EACFW,GAAG,CAAEc,UAAW,CAChBa,EAAE,CAAE,CACFC,QAAQ,CAAE,CAAC,CACXC,eAAe,CAAE,OAAO,CACxBC,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,mBAAmB,CAC9BC,SAAS,CAAE,QAAQ,CACnBC,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,MACb,CAAE,CAAAZ,QAAA,cAEFxB,IAAA,CAACR,cAAc,EACbuB,aAAa,CAAEA,aAAc,CAC7BsB,qBAAqB,CAAEpB,yBAA0B,CAAAO,QAAA,CAEhDL,oBAAoB,CAACrB,cAAc,CAAC,CACvB,CAAC,CACd,CAAC,CAEV,CAEA,cAAe,CAAAc,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}